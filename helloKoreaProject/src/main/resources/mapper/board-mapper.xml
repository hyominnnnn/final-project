<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="boardMapper">

	<resultMap id="boardResultSet" type="board">
		<result column="BOARD_NO"      property="boardNo" />
		<result column="BOARD_TITLE"   property="boardTitle" />
		<result column="MEMBER_NICKNAME"  property="boardWriter" />
		<result column="MODIFY_DATE"   property="modifyDate" />
		<result column="COUNT"         property="count" />
		<result column="ORIGIN_NAME"   property="originName" />
	</resultMap>
	
	<select id="countInfoList" resultType="_int">
		SELECT
			   COUNT(BOARD_NO)
		  FROM 
		  	   TB_BOARD
		 WHERE 
		 	   CATEGORY_NO = 2
		   AND
		 	   STATUS = 'Y'
	</select>
	
	<select id="selectInfoList" resultMap="boardResultSet">
		SELECT
			   BOARD_NO
			  ,BOARD_TITLE
			  ,MEMBER_NICKNAME
			  ,MODIFY_DATE
			  ,COUNT
			  ,ORIGINAL_NAME
		 FROM 
		 	  TB_BOARD
		 JOIN 
		 	  TB_MEMBER USING (MEMBER_NO)
	LEFT JOIN
		 	  TB_FILE USING (FILE_NO)
		WHERE 
			  TB_BOARD.CATEGORY_NO = 2
		  AND
			  TB_BOARD.STATUS = 'Y'
		ORDER 
		   BY
		      MODIFY_DATE DESC
	</select>
	
	
	
</mapper> 